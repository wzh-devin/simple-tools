<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.devin.simpletools_server.mapper.v1.taobao.ProdMapper">

    <!-- 查询商品详细信息 -->
    <select id="selectAllProd" resultType="com.devin.simpletools_server.domain.dto.ProdDto">
        select prod.id      as prod_id,
               prod.name    as prod_name,
               prod.prod_desc,
               service.id   as service_id,
               service.name as service_name,
               service.service_desc,
               type.id      as type_id,
               type.name    as type_name,
               type.type_desc,
               prod.prod_link,
               prod.prod_backup_link,
               prod.is_active,
               prod.create_time,
               prod.update_time
        from prod
                 left join service on prod.service_id = service.id
                 left join type on prod.type_id = type.id
        where prod.is_active = #{isActive}
    </select>
</mapper>